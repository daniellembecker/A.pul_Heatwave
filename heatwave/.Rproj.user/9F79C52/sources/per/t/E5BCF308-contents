---
title: "HOBO_temp_processing"
author: "daniellembecker"
date: "4/5/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

##Processing temperature data for from HOBO loggers out at Mahana from February-April


##Install packages
# load packages

```{r}
library("segmented")
library("devtools")
library("plotrix")
library("gridExtra")
library("LoLinR")
library("lubridate")
library('tidyverse')
library('lubridate')
library('scales')
```


#load temp data

```{r}
mahana.temp.hobo.06 <- read.csv("RAnalysis/data/HOBO/April2022/Mahana_6.csv")
mahana.temp.hobo.09 <- read.csv("RAnalysis/data/HOBO/April2022/Mahana_9.csv")
```


#bind all data sets together into one data frame

```{r}
temp.data <- rbind(mahana.temp.hobo.06, mahana.temp.hobo.09)
```


#remove any NA's from the data frame
```{r}
temp.data <- na.omit(temp.data)

view(temp.data)
```

#modify the date and time structure

```{r}
temp.data$date.time <- mdy_hm(temp.data$date.time, quiet=FALSE, tz="UTC", truncated=0) #format date and time
```
 

#save file as csv so transforms to data frame
```{r}
write.csv(temp.data, 'RAnalysis/output/HOBO/20220405_mahana_temp_data.csv')
```
 

#make logger number a factor
```{r}
temp.data$logger.number = as.factor(temp.data$logger.number)
```


#subset temp data for March through April 
```{r}
temp.data.subset <- temp.data %>%
  filter(lubridate::month(date.time) %in% c(03:04)) 
```


#plot data by hobo logger per day no average

```{r}
temp.plot <- temp.data.subset %>%
  ggplot(aes(x=date.time, y=temp, color = logger.number))+
  geom_line() + 
  geom_point() +
  scale_x_datetime(date_breaks = "1 day", date_labels = "%m-%d") +
  theme_classic()+
  theme(axis.text.x = element_text(angle = 90)) +
  ylab("Temperature (Â°C)")+
  xlab("Date");temp.plot

ggsave(filename="RAnalysis/output/HOBO/20220405_temp_logger_plot.pdf", plot=temp.plot, width=20, height=10, units="in")
```

